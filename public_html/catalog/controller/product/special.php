<?php
class ControllerProductSpecial extends Controller {
	public function index() {
		$this->load->language('product/special');

		$this->load->model('catalog/product');

		$this->load->model('tool/image');

        if ($this->config->get('config_noindex_disallow_params')) {
            $params = explode ("\r\n", $this->config->get('config_noindex_disallow_params'));
            if(!empty($params)) {
                $disallow_params = $params;
            }
        }

		if (isset($this->request->get['sort'])) {
			$sort = $this->request->get['sort'];
            if (!in_array('sort', $disallow_params, true) && $this->config->get('config_noindex_status')) {
                $this->document->setRobots('noindex,follow');
            }
		} else {
			$sort = 'p.sort_order';
		}

		if (isset($this->request->get['order'])) {
			$order = $this->request->get['order'];
            if (!in_array('order', $disallow_params, true) && $this->config->get('config_noindex_status')) {
                $this->document->setRobots('noindex,follow');
            }
		} else {
			$order = 'ASC';
		}

		if (isset($this->request->get['page'])) {
			$page = (int)$this->request->get['page'];
            if (!in_array('page', $disallow_params, true) && $this->config->get('config_noindex_status')) {
                $this->document->setRobots('noindex,follow');
            }
		} else {
			$page = 1;
		}

		if (isset($this->request->get['limit'])) {
			$limit = (int)$this->request->get['limit'];
            if (!in_array('limit', $disallow_params, true) && $this->config->get('config_noindex_status')) {
                $this->document->setRobots('noindex,follow');
            }
		} else {
			$limit = $this->config->get('theme_' . $this->config->get('config_theme') . '_product_limit');
		}

		$this->document->setTitle($this->language->get('heading_title'));

		$data['breadcrumbs'] = array();

		$data['breadcrumbs'][] = array(
			'text' => $this->language->get('text_home'),
			'href' => $this->url->link('common/home')
		);

		$url = '';

		if (isset($this->request->get['sort'])) {
			$url .= '&sort=' . $this->request->get['sort'];
		}

		if (isset($this->request->get['order'])) {
			$url .= '&order=' . $this->request->get['order'];
		}

		if (isset($this->request->get['page'])) {
			$url .= '&page=' . $this->request->get['page'];
		}

		if (isset($this->request->get['limit'])) {
			$url .= '&limit=' . $this->request->get['limit'];
		}

		$data['breadcrumbs'][] = array(
			'text' => $this->language->get('heading_title'),
			'href' => $this->url->link('product/special', $url)
		);

		$data['text_compare'] = sprintf($this->language->get('text_compare'), (isset($this->session->data['compare']) ? count($this->session->data['compare']) : 0));

		$data['compare'] = $this->url->link('product/compare');

		$data['products'] = array();

		$filter_data = array(
			'sort'  => $sort,
			'order' => $order,
			'start' => ($page - 1) * $limit,
			'limit' => $limit
		);

		$product_total = $this->model_catalog_product->getTotalProductSpecials();

		$results = $this->model_catalog_product->getProductSpecials($filter_data);

		foreach ($results as $result) {
			if ($result['image']) {
				$image = $this->model_tool_image->resize($result['image'], $this->config->get('theme_' . $this->config->get('config_theme') . '_image_product_width'), $this->config->get('theme_' . $this->config->get('config_theme') . '_image_product_height'));
			} else {
				$image = $this->model_tool_image->resize('placeholder.png', $this->config->get('theme_' . $this->config->get('config_theme') . '_image_product_width'), $this->config->get('theme_' . $this->config->get('config_theme') . '_image_product_height'));
			}

			if ($this->customer->isLogged() || !$this->config->get('config_customer_price')) {
				$price = $this->currency->format($this->tax->calculate($result['price'], $result['tax_class_id'], $this->config->get('config_tax')), $this->session->data['currency']);
			} else {
				$price = false;
			}

			if (!is_null($result['special']) && (float)$result['special'] >= 0) {
				$special = $this->currency->format($this->tax->calculate($result['special'], $result['tax_class_id'], $this->config->get('config_tax')), $this->session->data['currency']);
				$tax_price = (float)$result['special'];
			} else {
				$special = false;
				$tax_price = (float)$result['price'];
			}

			if ($this->config->get('config_tax')) {
				$tax = $this->currency->format($tax_price, $this->session->data['currency']);
			} else {
				$tax = false;
			}

			if ($this->config->get('config_review_status')) {
				$rating = (int)$result['rating'];
			} else {
				$rating = false;
			}

			$attributes = [];

			$data['config_stock_display'] = $this->config->get('config_stock_display');
			if ($result['quantity'] <= 0) {
				$attributes['stock'] = [
					'value' => $result['stock_status'],
					'icon' => '<svg class="w-3 h-3 lg:w-5 lg:h-5 lg:mr-3 float-left mr-1" viewBox="0 0 12 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.78474 0.788443L3.58121 1.57527V2.20522V2.83517H3.75685H3.93248L3.93884 2.31662L3.94521 1.79807L4.94325 1.14622C5.49217 0.787674 5.96243 0.49005 5.98826 0.484801C6.01754 0.478835 6.41521 0.723992 7.04501 1.13625L8.05479 1.79728L8.06116 2.31622L8.06752 2.83517H8.24315H8.41879V2.20442V1.57368L7.21061 0.78603C6.54611 0.352824 5.99925 -0.00089969 5.99535 1.71901e-06C5.99145 0.000903128 5.44668 0.355687 4.78474 0.788443ZM5.86497 0.849553C5.79717 0.894173 5.74168 0.93585 5.74168 0.94216C5.74168 0.96716 5.88848 1.24543 5.90933 1.25999C5.92159 1.26852 5.94547 1.26256 5.9624 1.24668C5.98579 1.22475 6.11028 1.29432 6.48031 1.536C6.7482 1.71098 6.97595 1.84821 6.98635 1.84094C7.00499 1.82793 7.15068 1.54801 7.15068 1.52521C7.15068 1.51447 6.88826 1.33981 6.25508 0.929222C6.1177 0.840141 6.00146 0.767498 5.99676 0.767817C5.99209 0.768135 5.93277 0.804907 5.86497 0.849553ZM5.35994 1.18111L5.22474 1.27544L5.28505 1.38586C5.31821 1.4466 5.35688 1.52298 5.371 1.55557L5.39667 1.61485L5.52808 1.53171C5.60036 1.486 5.66863 1.43947 5.6798 1.42831C5.70383 1.40432 5.55386 1.08506 5.51904 1.08609C5.50589 1.08649 5.43429 1.12923 5.35994 1.18111ZM4.87827 1.49446C4.81024 1.54215 4.74838 1.58815 4.74082 1.59669C4.72469 1.6149 4.87569 1.93376 4.90044 1.93376C4.90969 1.93376 4.98052 1.8919 5.05787 1.84071L5.19849 1.74767L5.11198 1.57585C5.06438 1.48133 5.02016 1.40485 5.0137 1.40588C5.00724 1.40689 4.9463 1.44676 4.87827 1.49446ZM4.22813 1.98819C4.18199 2.07711 4.14951 2.15951 4.15599 2.17136C4.16247 2.18319 4.53776 2.43394 4.98996 2.72857L5.81213 3.26429L5.81117 4.03731L5.81021 4.81032L4.70158 5.53036L3.59295 6.25037L3.58711 7.8369L3.58124 9.42341L4.79138 10.2117L6.0015 11L7.21033 10.2119L8.41914 9.42375L8.4131 7.83629L8.40705 6.24886L7.30333 5.52911L6.19961 4.80934L6.19339 4.03799L6.18716 3.26663L7.0153 2.72822C7.47079 2.43208 7.84765 2.18608 7.85281 2.18157C7.86427 2.17147 7.76283 1.95267 7.71429 1.88281C7.68054 1.83424 7.64398 1.85497 6.8497 2.37338C6.39356 2.67111 6.01167 2.91471 6.00103 2.91471C5.98713 2.91471 4.81883 2.16222 4.32824 1.83729C4.31932 1.8314 4.27428 1.8993 4.22813 1.98819ZM1.18591 3.13762L0 3.91323V5.50003V7.08685L1.17417 7.85424C1.81996 8.27631 2.36947 8.62656 2.3953 8.63256C2.43363 8.64146 2.99899 8.29514 3.31752 8.06766L3.37083 8.02959L3.30735 7.90461C3.27241 7.8359 3.23211 7.75962 3.21774 7.73515C3.19451 7.69551 3.14966 7.7181 2.80955 7.94062C2.5994 8.07811 2.42111 8.1906 2.41339 8.1906C2.40566 8.1906 1.93632 7.88937 1.37042 7.52117L0.341495 6.85174L0.341566 5.49963L0.341636 4.14752L1.37746 3.4739C2.18527 2.94856 2.42163 2.80603 2.45126 2.8264C2.47214 2.84074 2.93573 3.14279 3.48141 3.49765L4.47358 4.1428V4.65551V5.16823H4.64971H4.82583L4.82529 4.53857L4.82473 3.90891L3.6318 3.13343C2.97567 2.70691 2.42377 2.35886 2.40533 2.36C2.3869 2.36111 1.83816 2.71104 1.18591 3.13762ZM8.36684 3.13409L7.17595 3.90891L7.17506 4.53857L7.17417 5.16823H7.35029H7.52642V4.65687V4.1455L8.54069 3.48371C9.09854 3.11972 9.56365 2.81789 9.57426 2.81295C9.5849 2.80802 10.0583 3.10628 10.6262 3.47575L11.6589 4.14752L11.6591 5.49963L11.6593 6.85174L10.6304 7.52117C10.0644 7.88934 9.59598 8.1906 9.58934 8.1906C9.58272 8.1906 9.40429 8.07808 9.19285 7.94057C8.85041 7.71784 8.80556 7.69541 8.78229 7.7351C8.67511 7.9179 8.63272 8.02734 8.65996 8.05086C8.73144 8.11258 9.56466 8.6413 9.59047 8.6413C9.61376 8.6413 10.914 7.80374 11.8121 7.21019L12 7.08603V5.49889V3.91172L11.1546 3.36104C10.6896 3.05816 10.1541 2.70858 9.96451 2.58416C9.77493 2.45973 9.60585 2.35825 9.58877 2.35862C9.5717 2.35899 9.02184 2.70794 8.36684 3.13409ZM2.29822 3.18248C2.23538 3.22424 2.17454 3.26217 2.16301 3.26676C2.15148 3.27137 2.18222 3.35398 2.23132 3.45033C2.31271 3.61009 2.32513 3.62321 2.37227 3.59896C2.41637 3.57629 2.49306 3.61746 2.89526 3.87982C3.1545 4.04894 3.37566 4.18728 3.38677 4.18728C3.41176 4.18728 3.56182 3.89616 3.55266 3.86545C3.54899 3.85318 3.29096 3.67741 2.97924 3.47485L2.41249 3.10655L2.29822 3.18248ZM9.45793 3.18927C9.39013 3.23378 9.33464 3.27872 9.33464 3.28916C9.33464 3.29961 9.36897 3.37472 9.41096 3.45606C9.47753 3.58509 9.49477 3.60219 9.54599 3.59021C9.59087 3.57968 9.71871 3.65063 10.0889 3.8916L10.5732 4.20677L10.6612 4.03675C10.7097 3.94324 10.7454 3.86296 10.7406 3.85838C10.7257 3.84411 9.67792 3.16238 9.62818 3.1346C9.59136 3.11402 9.55456 3.12585 9.45793 3.18927ZM1.78474 3.51502C1.70724 3.56706 1.64189 3.61158 1.63949 3.61393C1.6371 3.61629 1.67119 3.68364 1.71525 3.76357C1.7593 3.8435 1.7988 3.91975 1.80303 3.93301C1.80726 3.94626 1.88059 3.91299 1.96603 3.85904L2.12135 3.76097L2.03523 3.58994C1.98787 3.49588 1.94384 3.41926 1.93738 3.41968C1.93092 3.42008 1.86223 3.463 1.78474 3.51502ZM8.96365 3.51388L8.81577 3.60853L8.88991 3.75872C8.9307 3.84133 8.97264 3.9193 8.98312 3.932C8.9992 3.95149 9.28767 3.7785 9.28767 3.74933C9.28767 3.73661 9.12261 3.4183 9.11629 3.41883C9.11368 3.41907 9.04499 3.46184 8.96365 3.51388ZM1.27984 3.84637C1.20881 3.89189 1.14683 3.9329 1.14211 3.93754C1.13739 3.94215 1.17248 4.02455 1.22008 4.12063L1.30664 4.29535L1.39303 4.2363C1.44056 4.20383 1.50587 4.15926 1.53816 4.13726C1.57045 4.11528 1.59995 4.09515 1.60373 4.09258C1.61613 4.08405 1.44237 3.76309 1.42549 3.76333C1.41642 3.76349 1.35088 3.80085 1.27984 3.84637ZM8.44814 3.84992C8.38034 3.89669 8.32485 3.94552 8.32485 3.95846C8.32485 4.00059 8.46857 4.26682 8.49133 4.26682C8.53113 4.26682 8.77104 4.10335 8.77104 4.07623C8.77104 4.03068 8.62039 3.76304 8.59529 3.76399C8.58216 3.76447 8.51594 3.80315 8.44814 3.84992ZM0.699687 4.22042C0.657464 4.28313 0.547726 4.50959 0.555663 4.51768C0.560031 4.5221 0.938748 4.77018 1.39726 5.06891L2.23092 5.61209L2.23705 6.71576L2.24318 7.81943H2.41904H2.59491L2.59578 6.71255L2.59663 5.60568L3.42944 5.06534C3.88748 4.76816 4.26223 4.51572 4.26223 4.50434C4.26223 4.46775 4.1121 4.18728 4.09252 4.18728C4.07613 4.18728 2.59451 5.14389 2.46496 5.23814C2.42172 5.26958 2.33786 5.22117 1.58463 4.73009C1.12673 4.43154 0.745315 4.18728 0.737049 4.18728C0.728759 4.18728 0.711945 4.20221 0.699687 4.22042ZM7.81317 4.33549C7.7717 4.41698 7.73777 4.49289 7.73777 4.50416C7.73777 4.51542 8.1127 4.76787 8.57096 5.06515L9.40417 5.60568L9.40462 6.71255L9.40509 7.81943H9.58096H9.75682L9.76295 6.71587L9.76908 5.61231L10.5793 5.08411C11.0249 4.79359 11.4037 4.54642 11.4211 4.5348C11.446 4.51815 11.4368 4.48202 11.3777 4.36375C11.3365 4.28127 11.2928 4.20682 11.2806 4.19831C11.2684 4.1898 10.8916 4.42162 10.4433 4.71347C9.99497 5.00534 9.61691 5.24792 9.60315 5.25256C9.58936 5.25723 9.20687 5.01942 8.75314 4.72415C8.29942 4.42889 7.91927 4.18728 7.90838 4.18728C7.89748 4.18728 7.85465 4.25396 7.81317 4.33549ZM7.0436 5.81777L8.0651 6.48057L8.05996 7.84085L8.05479 9.20113L7.05675 9.85261C6.50783 10.2109 6.04192 10.5094 6.02139 10.5158C6.00085 10.5223 5.52268 10.2272 4.95877 9.85998L3.93346 9.19236L3.93459 7.83645L3.93574 6.48057L4.96199 5.81284C5.52643 5.44557 5.99587 5.14731 6.00517 5.15004C6.01447 5.15275 6.48176 5.45323 7.0436 5.81777ZM0.575342 5.88405V6.57337H0.751468H0.927593V5.88405V5.19474H0.751468H0.575342V5.88405ZM5.8591 5.53797C5.8006 5.5789 5.75685 5.62827 5.7611 5.64855C5.76533 5.66872 5.80044 5.74781 5.83912 5.82432C5.90128 5.94731 5.91483 5.96017 5.95606 5.93525C5.99542 5.91147 6.07843 5.95662 6.48862 6.22487C6.95514 6.52994 6.97597 6.5406 7.00978 6.49184C7.05804 6.42227 7.15982 6.20302 7.14831 6.1935C7.06863 6.12767 6.01677 5.46044 5.995 5.46196C5.97837 5.4631 5.91722 5.4973 5.8591 5.53797ZM5.37304 5.85391L5.22751 5.9519L5.30982 6.1168C5.3551 6.20753 5.39812 6.28173 5.40542 6.28173C5.43299 6.28173 5.69472 6.10959 5.69472 6.09146C5.69472 6.07149 5.53153 5.74988 5.52333 5.75372C5.52073 5.75494 5.4531 5.80004 5.37304 5.85391ZM4.88454 6.17566C4.81996 6.2189 4.75656 6.25888 4.74364 6.26453C4.73072 6.2702 4.75078 6.339 4.78823 6.41748C4.8948 6.64081 4.88816 6.63668 5.011 6.5564C5.21732 6.42158 5.20924 6.4451 5.1128 6.2605C5.06557 6.17012 5.02131 6.09636 5.01445 6.0966C5.00757 6.09684 4.94912 6.13242 4.88454 6.17566ZM4.25448 6.61976C4.16588 6.77907 4.14 6.84188 4.15571 6.85962C4.16379 6.86876 4.53715 7.11548 4.9854 7.40791L5.80039 7.93961L5.80652 9.04606L5.81265 10.1525H6H6.18735L6.19348 9.04715L6.19961 7.94181L7.01389 7.41003C7.46175 7.11755 7.83537 6.87001 7.8442 6.85993C7.86031 6.84156 7.72849 6.5599 7.69181 6.53431C7.68106 6.52678 7.29638 6.76568 6.83699 7.06516L6.00178 7.60969L5.16503 7.06503C4.70482 6.76545 4.32413 6.52034 4.31904 6.52034C4.31394 6.52034 4.28489 6.56509 4.25448 6.61976Z" fill="#05D975"/></svg>'
				];
			} elseif ($this->config->get('config_stock_display')) {
				$attributes['stock'] = [
					'value' => (int) $result['quantity'],
					'icon' => '<svg class="w-3 h-3 lg:w-5 lg:h-5 lg:mr-3 float-left mr-1" viewBox="0 0 12 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.78474 0.788443L3.58121 1.57527V2.20522V2.83517H3.75685H3.93248L3.93884 2.31662L3.94521 1.79807L4.94325 1.14622C5.49217 0.787674 5.96243 0.49005 5.98826 0.484801C6.01754 0.478835 6.41521 0.723992 7.04501 1.13625L8.05479 1.79728L8.06116 2.31622L8.06752 2.83517H8.24315H8.41879V2.20442V1.57368L7.21061 0.78603C6.54611 0.352824 5.99925 -0.00089969 5.99535 1.71901e-06C5.99145 0.000903128 5.44668 0.355687 4.78474 0.788443ZM5.86497 0.849553C5.79717 0.894173 5.74168 0.93585 5.74168 0.94216C5.74168 0.96716 5.88848 1.24543 5.90933 1.25999C5.92159 1.26852 5.94547 1.26256 5.9624 1.24668C5.98579 1.22475 6.11028 1.29432 6.48031 1.536C6.7482 1.71098 6.97595 1.84821 6.98635 1.84094C7.00499 1.82793 7.15068 1.54801 7.15068 1.52521C7.15068 1.51447 6.88826 1.33981 6.25508 0.929222C6.1177 0.840141 6.00146 0.767498 5.99676 0.767817C5.99209 0.768135 5.93277 0.804907 5.86497 0.849553ZM5.35994 1.18111L5.22474 1.27544L5.28505 1.38586C5.31821 1.4466 5.35688 1.52298 5.371 1.55557L5.39667 1.61485L5.52808 1.53171C5.60036 1.486 5.66863 1.43947 5.6798 1.42831C5.70383 1.40432 5.55386 1.08506 5.51904 1.08609C5.50589 1.08649 5.43429 1.12923 5.35994 1.18111ZM4.87827 1.49446C4.81024 1.54215 4.74838 1.58815 4.74082 1.59669C4.72469 1.6149 4.87569 1.93376 4.90044 1.93376C4.90969 1.93376 4.98052 1.8919 5.05787 1.84071L5.19849 1.74767L5.11198 1.57585C5.06438 1.48133 5.02016 1.40485 5.0137 1.40588C5.00724 1.40689 4.9463 1.44676 4.87827 1.49446ZM4.22813 1.98819C4.18199 2.07711 4.14951 2.15951 4.15599 2.17136C4.16247 2.18319 4.53776 2.43394 4.98996 2.72857L5.81213 3.26429L5.81117 4.03731L5.81021 4.81032L4.70158 5.53036L3.59295 6.25037L3.58711 7.8369L3.58124 9.42341L4.79138 10.2117L6.0015 11L7.21033 10.2119L8.41914 9.42375L8.4131 7.83629L8.40705 6.24886L7.30333 5.52911L6.19961 4.80934L6.19339 4.03799L6.18716 3.26663L7.0153 2.72822C7.47079 2.43208 7.84765 2.18608 7.85281 2.18157C7.86427 2.17147 7.76283 1.95267 7.71429 1.88281C7.68054 1.83424 7.64398 1.85497 6.8497 2.37338C6.39356 2.67111 6.01167 2.91471 6.00103 2.91471C5.98713 2.91471 4.81883 2.16222 4.32824 1.83729C4.31932 1.8314 4.27428 1.8993 4.22813 1.98819ZM1.18591 3.13762L0 3.91323V5.50003V7.08685L1.17417 7.85424C1.81996 8.27631 2.36947 8.62656 2.3953 8.63256C2.43363 8.64146 2.99899 8.29514 3.31752 8.06766L3.37083 8.02959L3.30735 7.90461C3.27241 7.8359 3.23211 7.75962 3.21774 7.73515C3.19451 7.69551 3.14966 7.7181 2.80955 7.94062C2.5994 8.07811 2.42111 8.1906 2.41339 8.1906C2.40566 8.1906 1.93632 7.88937 1.37042 7.52117L0.341495 6.85174L0.341566 5.49963L0.341636 4.14752L1.37746 3.4739C2.18527 2.94856 2.42163 2.80603 2.45126 2.8264C2.47214 2.84074 2.93573 3.14279 3.48141 3.49765L4.47358 4.1428V4.65551V5.16823H4.64971H4.82583L4.82529 4.53857L4.82473 3.90891L3.6318 3.13343C2.97567 2.70691 2.42377 2.35886 2.40533 2.36C2.3869 2.36111 1.83816 2.71104 1.18591 3.13762ZM8.36684 3.13409L7.17595 3.90891L7.17506 4.53857L7.17417 5.16823H7.35029H7.52642V4.65687V4.1455L8.54069 3.48371C9.09854 3.11972 9.56365 2.81789 9.57426 2.81295C9.5849 2.80802 10.0583 3.10628 10.6262 3.47575L11.6589 4.14752L11.6591 5.49963L11.6593 6.85174L10.6304 7.52117C10.0644 7.88934 9.59598 8.1906 9.58934 8.1906C9.58272 8.1906 9.40429 8.07808 9.19285 7.94057C8.85041 7.71784 8.80556 7.69541 8.78229 7.7351C8.67511 7.9179 8.63272 8.02734 8.65996 8.05086C8.73144 8.11258 9.56466 8.6413 9.59047 8.6413C9.61376 8.6413 10.914 7.80374 11.8121 7.21019L12 7.08603V5.49889V3.91172L11.1546 3.36104C10.6896 3.05816 10.1541 2.70858 9.96451 2.58416C9.77493 2.45973 9.60585 2.35825 9.58877 2.35862C9.5717 2.35899 9.02184 2.70794 8.36684 3.13409ZM2.29822 3.18248C2.23538 3.22424 2.17454 3.26217 2.16301 3.26676C2.15148 3.27137 2.18222 3.35398 2.23132 3.45033C2.31271 3.61009 2.32513 3.62321 2.37227 3.59896C2.41637 3.57629 2.49306 3.61746 2.89526 3.87982C3.1545 4.04894 3.37566 4.18728 3.38677 4.18728C3.41176 4.18728 3.56182 3.89616 3.55266 3.86545C3.54899 3.85318 3.29096 3.67741 2.97924 3.47485L2.41249 3.10655L2.29822 3.18248ZM9.45793 3.18927C9.39013 3.23378 9.33464 3.27872 9.33464 3.28916C9.33464 3.29961 9.36897 3.37472 9.41096 3.45606C9.47753 3.58509 9.49477 3.60219 9.54599 3.59021C9.59087 3.57968 9.71871 3.65063 10.0889 3.8916L10.5732 4.20677L10.6612 4.03675C10.7097 3.94324 10.7454 3.86296 10.7406 3.85838C10.7257 3.84411 9.67792 3.16238 9.62818 3.1346C9.59136 3.11402 9.55456 3.12585 9.45793 3.18927ZM1.78474 3.51502C1.70724 3.56706 1.64189 3.61158 1.63949 3.61393C1.6371 3.61629 1.67119 3.68364 1.71525 3.76357C1.7593 3.8435 1.7988 3.91975 1.80303 3.93301C1.80726 3.94626 1.88059 3.91299 1.96603 3.85904L2.12135 3.76097L2.03523 3.58994C1.98787 3.49588 1.94384 3.41926 1.93738 3.41968C1.93092 3.42008 1.86223 3.463 1.78474 3.51502ZM8.96365 3.51388L8.81577 3.60853L8.88991 3.75872C8.9307 3.84133 8.97264 3.9193 8.98312 3.932C8.9992 3.95149 9.28767 3.7785 9.28767 3.74933C9.28767 3.73661 9.12261 3.4183 9.11629 3.41883C9.11368 3.41907 9.04499 3.46184 8.96365 3.51388ZM1.27984 3.84637C1.20881 3.89189 1.14683 3.9329 1.14211 3.93754C1.13739 3.94215 1.17248 4.02455 1.22008 4.12063L1.30664 4.29535L1.39303 4.2363C1.44056 4.20383 1.50587 4.15926 1.53816 4.13726C1.57045 4.11528 1.59995 4.09515 1.60373 4.09258C1.61613 4.08405 1.44237 3.76309 1.42549 3.76333C1.41642 3.76349 1.35088 3.80085 1.27984 3.84637ZM8.44814 3.84992C8.38034 3.89669 8.32485 3.94552 8.32485 3.95846C8.32485 4.00059 8.46857 4.26682 8.49133 4.26682C8.53113 4.26682 8.77104 4.10335 8.77104 4.07623C8.77104 4.03068 8.62039 3.76304 8.59529 3.76399C8.58216 3.76447 8.51594 3.80315 8.44814 3.84992ZM0.699687 4.22042C0.657464 4.28313 0.547726 4.50959 0.555663 4.51768C0.560031 4.5221 0.938748 4.77018 1.39726 5.06891L2.23092 5.61209L2.23705 6.71576L2.24318 7.81943H2.41904H2.59491L2.59578 6.71255L2.59663 5.60568L3.42944 5.06534C3.88748 4.76816 4.26223 4.51572 4.26223 4.50434C4.26223 4.46775 4.1121 4.18728 4.09252 4.18728C4.07613 4.18728 2.59451 5.14389 2.46496 5.23814C2.42172 5.26958 2.33786 5.22117 1.58463 4.73009C1.12673 4.43154 0.745315 4.18728 0.737049 4.18728C0.728759 4.18728 0.711945 4.20221 0.699687 4.22042ZM7.81317 4.33549C7.7717 4.41698 7.73777 4.49289 7.73777 4.50416C7.73777 4.51542 8.1127 4.76787 8.57096 5.06515L9.40417 5.60568L9.40462 6.71255L9.40509 7.81943H9.58096H9.75682L9.76295 6.71587L9.76908 5.61231L10.5793 5.08411C11.0249 4.79359 11.4037 4.54642 11.4211 4.5348C11.446 4.51815 11.4368 4.48202 11.3777 4.36375C11.3365 4.28127 11.2928 4.20682 11.2806 4.19831C11.2684 4.1898 10.8916 4.42162 10.4433 4.71347C9.99497 5.00534 9.61691 5.24792 9.60315 5.25256C9.58936 5.25723 9.20687 5.01942 8.75314 4.72415C8.29942 4.42889 7.91927 4.18728 7.90838 4.18728C7.89748 4.18728 7.85465 4.25396 7.81317 4.33549ZM7.0436 5.81777L8.0651 6.48057L8.05996 7.84085L8.05479 9.20113L7.05675 9.85261C6.50783 10.2109 6.04192 10.5094 6.02139 10.5158C6.00085 10.5223 5.52268 10.2272 4.95877 9.85998L3.93346 9.19236L3.93459 7.83645L3.93574 6.48057L4.96199 5.81284C5.52643 5.44557 5.99587 5.14731 6.00517 5.15004C6.01447 5.15275 6.48176 5.45323 7.0436 5.81777ZM0.575342 5.88405V6.57337H0.751468H0.927593V5.88405V5.19474H0.751468H0.575342V5.88405ZM5.8591 5.53797C5.8006 5.5789 5.75685 5.62827 5.7611 5.64855C5.76533 5.66872 5.80044 5.74781 5.83912 5.82432C5.90128 5.94731 5.91483 5.96017 5.95606 5.93525C5.99542 5.91147 6.07843 5.95662 6.48862 6.22487C6.95514 6.52994 6.97597 6.5406 7.00978 6.49184C7.05804 6.42227 7.15982 6.20302 7.14831 6.1935C7.06863 6.12767 6.01677 5.46044 5.995 5.46196C5.97837 5.4631 5.91722 5.4973 5.8591 5.53797ZM5.37304 5.85391L5.22751 5.9519L5.30982 6.1168C5.3551 6.20753 5.39812 6.28173 5.40542 6.28173C5.43299 6.28173 5.69472 6.10959 5.69472 6.09146C5.69472 6.07149 5.53153 5.74988 5.52333 5.75372C5.52073 5.75494 5.4531 5.80004 5.37304 5.85391ZM4.88454 6.17566C4.81996 6.2189 4.75656 6.25888 4.74364 6.26453C4.73072 6.2702 4.75078 6.339 4.78823 6.41748C4.8948 6.64081 4.88816 6.63668 5.011 6.5564C5.21732 6.42158 5.20924 6.4451 5.1128 6.2605C5.06557 6.17012 5.02131 6.09636 5.01445 6.0966C5.00757 6.09684 4.94912 6.13242 4.88454 6.17566ZM4.25448 6.61976C4.16588 6.77907 4.14 6.84188 4.15571 6.85962C4.16379 6.86876 4.53715 7.11548 4.9854 7.40791L5.80039 7.93961L5.80652 9.04606L5.81265 10.1525H6H6.18735L6.19348 9.04715L6.19961 7.94181L7.01389 7.41003C7.46175 7.11755 7.83537 6.87001 7.8442 6.85993C7.86031 6.84156 7.72849 6.5599 7.69181 6.53431C7.68106 6.52678 7.29638 6.76568 6.83699 7.06516L6.00178 7.60969L5.16503 7.06503C4.70482 6.76545 4.32413 6.52034 4.31904 6.52034C4.31394 6.52034 4.28489 6.56509 4.25448 6.61976Z" fill="#05D975"/></svg>'
				];
			} else {
				$attributes['stock'] = [
					'value' => $this->language->get('text_instock'),
					'icon' => '<svg class="w-3 h-3 lg:w-5 lg:h-5 lg:mr-3 float-left mr-1" viewBox="0 0 12 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.78474 0.788443L3.58121 1.57527V2.20522V2.83517H3.75685H3.93248L3.93884 2.31662L3.94521 1.79807L4.94325 1.14622C5.49217 0.787674 5.96243 0.49005 5.98826 0.484801C6.01754 0.478835 6.41521 0.723992 7.04501 1.13625L8.05479 1.79728L8.06116 2.31622L8.06752 2.83517H8.24315H8.41879V2.20442V1.57368L7.21061 0.78603C6.54611 0.352824 5.99925 -0.00089969 5.99535 1.71901e-06C5.99145 0.000903128 5.44668 0.355687 4.78474 0.788443ZM5.86497 0.849553C5.79717 0.894173 5.74168 0.93585 5.74168 0.94216C5.74168 0.96716 5.88848 1.24543 5.90933 1.25999C5.92159 1.26852 5.94547 1.26256 5.9624 1.24668C5.98579 1.22475 6.11028 1.29432 6.48031 1.536C6.7482 1.71098 6.97595 1.84821 6.98635 1.84094C7.00499 1.82793 7.15068 1.54801 7.15068 1.52521C7.15068 1.51447 6.88826 1.33981 6.25508 0.929222C6.1177 0.840141 6.00146 0.767498 5.99676 0.767817C5.99209 0.768135 5.93277 0.804907 5.86497 0.849553ZM5.35994 1.18111L5.22474 1.27544L5.28505 1.38586C5.31821 1.4466 5.35688 1.52298 5.371 1.55557L5.39667 1.61485L5.52808 1.53171C5.60036 1.486 5.66863 1.43947 5.6798 1.42831C5.70383 1.40432 5.55386 1.08506 5.51904 1.08609C5.50589 1.08649 5.43429 1.12923 5.35994 1.18111ZM4.87827 1.49446C4.81024 1.54215 4.74838 1.58815 4.74082 1.59669C4.72469 1.6149 4.87569 1.93376 4.90044 1.93376C4.90969 1.93376 4.98052 1.8919 5.05787 1.84071L5.19849 1.74767L5.11198 1.57585C5.06438 1.48133 5.02016 1.40485 5.0137 1.40588C5.00724 1.40689 4.9463 1.44676 4.87827 1.49446ZM4.22813 1.98819C4.18199 2.07711 4.14951 2.15951 4.15599 2.17136C4.16247 2.18319 4.53776 2.43394 4.98996 2.72857L5.81213 3.26429L5.81117 4.03731L5.81021 4.81032L4.70158 5.53036L3.59295 6.25037L3.58711 7.8369L3.58124 9.42341L4.79138 10.2117L6.0015 11L7.21033 10.2119L8.41914 9.42375L8.4131 7.83629L8.40705 6.24886L7.30333 5.52911L6.19961 4.80934L6.19339 4.03799L6.18716 3.26663L7.0153 2.72822C7.47079 2.43208 7.84765 2.18608 7.85281 2.18157C7.86427 2.17147 7.76283 1.95267 7.71429 1.88281C7.68054 1.83424 7.64398 1.85497 6.8497 2.37338C6.39356 2.67111 6.01167 2.91471 6.00103 2.91471C5.98713 2.91471 4.81883 2.16222 4.32824 1.83729C4.31932 1.8314 4.27428 1.8993 4.22813 1.98819ZM1.18591 3.13762L0 3.91323V5.50003V7.08685L1.17417 7.85424C1.81996 8.27631 2.36947 8.62656 2.3953 8.63256C2.43363 8.64146 2.99899 8.29514 3.31752 8.06766L3.37083 8.02959L3.30735 7.90461C3.27241 7.8359 3.23211 7.75962 3.21774 7.73515C3.19451 7.69551 3.14966 7.7181 2.80955 7.94062C2.5994 8.07811 2.42111 8.1906 2.41339 8.1906C2.40566 8.1906 1.93632 7.88937 1.37042 7.52117L0.341495 6.85174L0.341566 5.49963L0.341636 4.14752L1.37746 3.4739C2.18527 2.94856 2.42163 2.80603 2.45126 2.8264C2.47214 2.84074 2.93573 3.14279 3.48141 3.49765L4.47358 4.1428V4.65551V5.16823H4.64971H4.82583L4.82529 4.53857L4.82473 3.90891L3.6318 3.13343C2.97567 2.70691 2.42377 2.35886 2.40533 2.36C2.3869 2.36111 1.83816 2.71104 1.18591 3.13762ZM8.36684 3.13409L7.17595 3.90891L7.17506 4.53857L7.17417 5.16823H7.35029H7.52642V4.65687V4.1455L8.54069 3.48371C9.09854 3.11972 9.56365 2.81789 9.57426 2.81295C9.5849 2.80802 10.0583 3.10628 10.6262 3.47575L11.6589 4.14752L11.6591 5.49963L11.6593 6.85174L10.6304 7.52117C10.0644 7.88934 9.59598 8.1906 9.58934 8.1906C9.58272 8.1906 9.40429 8.07808 9.19285 7.94057C8.85041 7.71784 8.80556 7.69541 8.78229 7.7351C8.67511 7.9179 8.63272 8.02734 8.65996 8.05086C8.73144 8.11258 9.56466 8.6413 9.59047 8.6413C9.61376 8.6413 10.914 7.80374 11.8121 7.21019L12 7.08603V5.49889V3.91172L11.1546 3.36104C10.6896 3.05816 10.1541 2.70858 9.96451 2.58416C9.77493 2.45973 9.60585 2.35825 9.58877 2.35862C9.5717 2.35899 9.02184 2.70794 8.36684 3.13409ZM2.29822 3.18248C2.23538 3.22424 2.17454 3.26217 2.16301 3.26676C2.15148 3.27137 2.18222 3.35398 2.23132 3.45033C2.31271 3.61009 2.32513 3.62321 2.37227 3.59896C2.41637 3.57629 2.49306 3.61746 2.89526 3.87982C3.1545 4.04894 3.37566 4.18728 3.38677 4.18728C3.41176 4.18728 3.56182 3.89616 3.55266 3.86545C3.54899 3.85318 3.29096 3.67741 2.97924 3.47485L2.41249 3.10655L2.29822 3.18248ZM9.45793 3.18927C9.39013 3.23378 9.33464 3.27872 9.33464 3.28916C9.33464 3.29961 9.36897 3.37472 9.41096 3.45606C9.47753 3.58509 9.49477 3.60219 9.54599 3.59021C9.59087 3.57968 9.71871 3.65063 10.0889 3.8916L10.5732 4.20677L10.6612 4.03675C10.7097 3.94324 10.7454 3.86296 10.7406 3.85838C10.7257 3.84411 9.67792 3.16238 9.62818 3.1346C9.59136 3.11402 9.55456 3.12585 9.45793 3.18927ZM1.78474 3.51502C1.70724 3.56706 1.64189 3.61158 1.63949 3.61393C1.6371 3.61629 1.67119 3.68364 1.71525 3.76357C1.7593 3.8435 1.7988 3.91975 1.80303 3.93301C1.80726 3.94626 1.88059 3.91299 1.96603 3.85904L2.12135 3.76097L2.03523 3.58994C1.98787 3.49588 1.94384 3.41926 1.93738 3.41968C1.93092 3.42008 1.86223 3.463 1.78474 3.51502ZM8.96365 3.51388L8.81577 3.60853L8.88991 3.75872C8.9307 3.84133 8.97264 3.9193 8.98312 3.932C8.9992 3.95149 9.28767 3.7785 9.28767 3.74933C9.28767 3.73661 9.12261 3.4183 9.11629 3.41883C9.11368 3.41907 9.04499 3.46184 8.96365 3.51388ZM1.27984 3.84637C1.20881 3.89189 1.14683 3.9329 1.14211 3.93754C1.13739 3.94215 1.17248 4.02455 1.22008 4.12063L1.30664 4.29535L1.39303 4.2363C1.44056 4.20383 1.50587 4.15926 1.53816 4.13726C1.57045 4.11528 1.59995 4.09515 1.60373 4.09258C1.61613 4.08405 1.44237 3.76309 1.42549 3.76333C1.41642 3.76349 1.35088 3.80085 1.27984 3.84637ZM8.44814 3.84992C8.38034 3.89669 8.32485 3.94552 8.32485 3.95846C8.32485 4.00059 8.46857 4.26682 8.49133 4.26682C8.53113 4.26682 8.77104 4.10335 8.77104 4.07623C8.77104 4.03068 8.62039 3.76304 8.59529 3.76399C8.58216 3.76447 8.51594 3.80315 8.44814 3.84992ZM0.699687 4.22042C0.657464 4.28313 0.547726 4.50959 0.555663 4.51768C0.560031 4.5221 0.938748 4.77018 1.39726 5.06891L2.23092 5.61209L2.23705 6.71576L2.24318 7.81943H2.41904H2.59491L2.59578 6.71255L2.59663 5.60568L3.42944 5.06534C3.88748 4.76816 4.26223 4.51572 4.26223 4.50434C4.26223 4.46775 4.1121 4.18728 4.09252 4.18728C4.07613 4.18728 2.59451 5.14389 2.46496 5.23814C2.42172 5.26958 2.33786 5.22117 1.58463 4.73009C1.12673 4.43154 0.745315 4.18728 0.737049 4.18728C0.728759 4.18728 0.711945 4.20221 0.699687 4.22042ZM7.81317 4.33549C7.7717 4.41698 7.73777 4.49289 7.73777 4.50416C7.73777 4.51542 8.1127 4.76787 8.57096 5.06515L9.40417 5.60568L9.40462 6.71255L9.40509 7.81943H9.58096H9.75682L9.76295 6.71587L9.76908 5.61231L10.5793 5.08411C11.0249 4.79359 11.4037 4.54642 11.4211 4.5348C11.446 4.51815 11.4368 4.48202 11.3777 4.36375C11.3365 4.28127 11.2928 4.20682 11.2806 4.19831C11.2684 4.1898 10.8916 4.42162 10.4433 4.71347C9.99497 5.00534 9.61691 5.24792 9.60315 5.25256C9.58936 5.25723 9.20687 5.01942 8.75314 4.72415C8.29942 4.42889 7.91927 4.18728 7.90838 4.18728C7.89748 4.18728 7.85465 4.25396 7.81317 4.33549ZM7.0436 5.81777L8.0651 6.48057L8.05996 7.84085L8.05479 9.20113L7.05675 9.85261C6.50783 10.2109 6.04192 10.5094 6.02139 10.5158C6.00085 10.5223 5.52268 10.2272 4.95877 9.85998L3.93346 9.19236L3.93459 7.83645L3.93574 6.48057L4.96199 5.81284C5.52643 5.44557 5.99587 5.14731 6.00517 5.15004C6.01447 5.15275 6.48176 5.45323 7.0436 5.81777ZM0.575342 5.88405V6.57337H0.751468H0.927593V5.88405V5.19474H0.751468H0.575342V5.88405ZM5.8591 5.53797C5.8006 5.5789 5.75685 5.62827 5.7611 5.64855C5.76533 5.66872 5.80044 5.74781 5.83912 5.82432C5.90128 5.94731 5.91483 5.96017 5.95606 5.93525C5.99542 5.91147 6.07843 5.95662 6.48862 6.22487C6.95514 6.52994 6.97597 6.5406 7.00978 6.49184C7.05804 6.42227 7.15982 6.20302 7.14831 6.1935C7.06863 6.12767 6.01677 5.46044 5.995 5.46196C5.97837 5.4631 5.91722 5.4973 5.8591 5.53797ZM5.37304 5.85391L5.22751 5.9519L5.30982 6.1168C5.3551 6.20753 5.39812 6.28173 5.40542 6.28173C5.43299 6.28173 5.69472 6.10959 5.69472 6.09146C5.69472 6.07149 5.53153 5.74988 5.52333 5.75372C5.52073 5.75494 5.4531 5.80004 5.37304 5.85391ZM4.88454 6.17566C4.81996 6.2189 4.75656 6.25888 4.74364 6.26453C4.73072 6.2702 4.75078 6.339 4.78823 6.41748C4.8948 6.64081 4.88816 6.63668 5.011 6.5564C5.21732 6.42158 5.20924 6.4451 5.1128 6.2605C5.06557 6.17012 5.02131 6.09636 5.01445 6.0966C5.00757 6.09684 4.94912 6.13242 4.88454 6.17566ZM4.25448 6.61976C4.16588 6.77907 4.14 6.84188 4.15571 6.85962C4.16379 6.86876 4.53715 7.11548 4.9854 7.40791L5.80039 7.93961L5.80652 9.04606L5.81265 10.1525H6H6.18735L6.19348 9.04715L6.19961 7.94181L7.01389 7.41003C7.46175 7.11755 7.83537 6.87001 7.8442 6.85993C7.86031 6.84156 7.72849 6.5599 7.69181 6.53431C7.68106 6.52678 7.29638 6.76568 6.83699 7.06516L6.00178 7.60969L5.16503 7.06503C4.70482 6.76545 4.32413 6.52034 4.31904 6.52034C4.31394 6.52034 4.28489 6.56509 4.25448 6.61976Z" fill="#05D975"/></svg>'
				];
			}

			if((float)round($result['weight'], 2) > 0){
				$attributes['weight'] = [
					'value' => implode(' ', [(float)round($result['weight'], 2), (string)$result['weight_class_name']]),
					'icon' => '<svg class="w-3 h-3 lg:w-5 lg:h-5 lg:mr-3 float-left mr-1" viewBox="0 0 23 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.1358 0.0693069C8.82095 0.277199 7.64906 0.886335 6.72384 1.84279C5.76026 2.83882 5.28932 3.83846 5.04706 5.40199L5.01981 5.57785L4.23645 5.57813C3.80557 5.57827 3.37544 5.59994 3.28061 5.62629C2.86375 5.74203 2.41448 6.19257 2.30742 6.60221C2.22929 6.90108 0.00682201 22.2634 0.00039721 22.5492C-0.0124055 23.1145 0.284964 23.6034 0.793368 23.8531C1.0603 23.9842 1.06494 23.9847 2.01502 23.9847H2.96866L3.08191 23.8531C3.23156 23.6792 3.2316 23.4462 3.08205 23.2721L2.96894 23.1405L2.07856 23.1171C1.27354 23.0959 1.17806 23.0846 1.08309 22.9999C0.946344 22.8777 0.85377 22.655 0.878438 22.5074C0.889224 22.443 1.39406 18.9715 2.00039 14.793C2.60671 10.6145 3.12506 7.08491 3.1523 6.94938C3.19095 6.75715 3.23559 6.67729 3.35532 6.58593L3.50881 6.46888H11.0268H18.5448L18.6961 6.58429C18.7793 6.64774 18.8608 6.75279 18.877 6.8177C18.8934 6.88265 18.9905 7.51129 19.093 8.21474C19.1955 8.91818 19.2907 9.55991 19.3046 9.64086C19.36 9.96472 19.682 10.1188 19.9806 9.9644C20.2301 9.83543 20.2295 9.77386 19.963 7.9758C19.7442 6.49974 19.7032 6.35159 19.4242 6.03387C19.3488 5.94796 19.1748 5.81547 19.0376 5.73945C18.79 5.60233 18.7815 5.6012 17.9103 5.58592L17.0325 5.57058L17.0059 5.39833C16.7658 3.84212 16.2924 2.83783 15.3298 1.84279C13.9746 0.441852 12.0138 -0.227641 10.1358 0.0693069ZM11.8033 0.957477C12.368 1.04907 12.7941 1.18394 13.2826 1.42569C14.5493 2.05255 15.5495 3.24391 15.925 4.57319C16.0514 5.02063 16.1395 5.5143 16.1001 5.55379C16.0686 5.58526 5.98503 5.58526 5.95356 5.55379C5.91408 5.5143 6.00224 5.02063 6.12863 4.57319C6.50408 3.24405 7.5033 2.05373 8.771 1.42536C9.71878 0.955602 10.7811 0.791699 11.8033 0.957477ZM19.7459 11.2956C19.6512 11.3903 19.6089 11.4793 19.6089 11.5837C19.6089 11.6667 19.9583 14.1321 20.3853 17.0624C20.8124 19.9927 21.165 22.4689 21.169 22.565C21.1771 22.76 21.0538 22.9636 20.8706 23.0578C20.7824 23.1031 18.9825 23.1159 12.6065 23.1164C6.50038 23.1169 4.42943 23.1308 4.35271 23.1716C4.12676 23.292 4.05009 23.5193 4.15842 23.7477C4.19969 23.8346 4.28996 23.929 4.35909 23.9576C4.44969 23.995 6.78808 24.006 12.7385 23.9971L20.9923 23.9847L21.2603 23.8531C21.7685 23.6035 22.066 23.1145 22.0533 22.5496C22.0462 22.2387 20.5297 11.7431 20.4533 11.4768C20.3565 11.1392 19.9949 11.0466 19.7459 11.2956ZM7.33199 11.8388C7.03973 11.9658 7.04057 11.957 7.0409 14.7563C7.04104 16.3147 7.05929 17.3439 7.08864 17.4495C7.17883 17.7743 7.57275 17.8825 7.80803 17.6473L7.93165 17.5236V16.4514C7.93165 15.8617 7.93695 15.3792 7.94338 15.3792C7.9498 15.3792 8.06854 15.4223 8.20717 15.475C9.00699 15.779 9.14059 15.9541 9.50052 17.1701C9.63319 17.6182 9.76132 17.7709 10.0045 17.7709C10.3182 17.7709 10.4943 17.5278 10.4197 17.1978C10.3119 16.7204 10.0704 15.9915 9.93713 15.7412C9.75217 15.3936 9.29381 14.9635 8.94921 14.8142C8.80313 14.751 8.68382 14.6886 8.6841 14.6757C8.68434 14.6628 8.7582 14.5995 8.8482 14.5351C9.09797 14.3561 9.46474 13.8922 9.64534 13.5268C9.83096 13.1512 9.99509 12.5525 9.99509 12.251C9.99509 11.9723 9.84282 11.8151 9.57303 11.8151C9.30905 11.8151 9.17614 11.9565 9.1058 12.3123C8.96666 13.0158 8.66741 13.5573 8.23873 13.8809C8.10386 13.9828 7.97958 14.0661 7.96256 14.0661C7.94558 14.0661 7.93165 13.6215 7.93165 13.0782C7.93165 12.4602 7.91266 12.0548 7.881 11.9956C7.8531 11.9435 7.75884 11.8711 7.67147 11.8345C7.48459 11.7565 7.52262 11.756 7.33199 11.8388ZM12.7288 11.8163C11.9946 11.9214 11.3346 12.5242 11.1406 13.267C11.0571 13.5869 11.0457 15.8503 11.1257 16.2328C11.3861 17.4775 12.7798 18.1306 13.9432 17.5531C14.4517 17.3008 14.8804 16.682 14.9684 16.0735C15.0612 15.4317 15.0174 15.0211 14.8367 14.8405C14.7199 14.7236 14.7119 14.7226 13.9029 14.7226C12.9921 14.7226 12.9012 14.7478 12.8099 15.0246C12.7505 15.2043 12.796 15.3584 12.949 15.4964C13.0374 15.5763 13.1325 15.5926 13.5874 15.606C13.9817 15.6176 14.122 15.6375 14.122 15.6817C14.122 15.8793 14.0098 16.2698 13.9097 16.4212C13.6531 16.809 13.093 16.9832 12.6487 16.8136C12.3929 16.7158 12.083 16.3892 12.0154 16.1462C11.9858 16.0392 11.9652 15.4669 11.965 14.7436C11.9647 13.5278 11.9654 13.5205 12.0843 13.2819C12.28 12.8891 12.5943 12.6985 13.0478 12.6974C13.6063 12.696 13.9976 13.0659 14.0987 13.6909C14.1454 13.9793 14.1976 14.0633 14.3769 14.1382C14.7161 14.2799 14.9938 14.0469 14.9759 13.6355C14.9267 12.5038 13.8749 11.6522 12.7288 11.8163Z" fill="#05D975"/></svg>'
				];
			}

			$gabarits = [];
			if((float)round($result['length'], 2) > 0){
				$gabarits['length'] = (float)round($result['length'], 2);
			}
			if((float)round($result['width'], 2) > 0){
				$gabarits['width'] = (float)round($result['width'], 2);
			}
			if((float)round($result['height'], 2) > 0){
				$gabarits['height'] = (float)round($result['height'], 2);
			}
			if(!empty($gabarits)) {
				$attributes['gabarits'] = [
					'value' => implode('x', $gabarits) . ' ' . (string)$result['length_class_name'],
					'icon' => '<svg class="w-3 h-3 lg:w-5 lg:h-5 lg:mr-3 float-left mr-1" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.295264 0.0903337C0.0192187 0.261099 0 0.352317 0 1.49053C0 2.48161 0.00370311 2.52271 0.106875 2.67581C0.255093 2.89574 0.39178 2.95143 0.785153 2.95223L1.125 2.95293L1.1265 5.89433C1.12809 9.06573 1.11857 8.94621 1.37756 9.04464C1.52306 9.1 1.74848 9.0122 1.79901 8.88049C1.81499 8.83877 1.82812 7.49013 1.82812 5.88359V2.96254L2.22566 2.94604C2.6024 2.93034 2.63122 2.92148 2.77644 2.77626C2.92166 2.63104 2.93052 2.60221 2.94622 2.22548L2.96272 1.82794H12H21.0372L21.0537 2.22548C21.0694 2.60221 21.0782 2.63104 21.2235 2.77626C21.3687 2.92148 21.3975 2.93034 21.7742 2.94604L22.1718 2.96254V11.9998V21.037L21.7742 21.0535C21.3975 21.0692 21.3687 21.0781 21.2235 21.2233C21.0782 21.3685 21.0694 21.3973 21.0537 21.7741L21.0372 22.1716H18.1161C16.5096 22.1716 15.161 22.1847 15.1192 22.2007C14.9875 22.2512 14.8997 22.4767 14.9551 22.6222C15.0535 22.8811 14.934 22.8716 18.1054 22.8732L21.0468 22.8747L21.0475 23.2146C21.0483 23.6079 21.104 23.7446 21.3239 23.8928C21.4771 23.9961 21.5176 23.9997 22.5186 23.9995C24.039 23.9993 23.9999 24.0386 23.9999 22.509C23.9999 21.5179 23.9962 21.4768 23.893 21.3237C23.7448 21.1038 23.6081 21.0481 23.2148 21.0473L22.8749 21.0466V11.9998V2.95293L23.2148 2.95223C23.6081 2.95143 23.7448 2.89574 23.893 2.67581C23.9962 2.52271 23.9999 2.48161 23.9999 1.49053C23.9999 0.352036 23.9805 0.259833 23.7046 0.0916931C23.5678 0.00820902 23.4634 0.000146552 22.5186 5.92783e-06C21.5176 -0.000181571 21.4771 0.00342778 21.3239 0.106693C21.104 0.254911 21.0483 0.391598 21.0475 0.784972L21.0468 1.12481H12.0048H2.96272L2.94622 0.727269C2.93057 0.350583 2.92161 0.321661 2.77654 0.17649L2.62335 0.0232558L1.53435 0.0103653C0.51792 -0.00168157 0.435326 0.00366216 0.295264 0.0903337ZM2.24999 1.47638V2.24981H1.47656H0.703122V1.47638V0.702941H1.47656H2.24999V1.47638ZM23.2968 1.47638V2.24981H22.5233H21.7499V1.47638V0.702941H22.5233H23.2968V1.47638ZM3.9515 3.74793C3.65474 3.92882 3.65624 3.9171 3.65624 6.07395C3.65624 7.95105 3.65994 8.03379 3.75074 8.18069C3.91878 8.45261 4.05481 8.48416 5.05934 8.48416C6.06368 8.48416 6.19498 8.45557 6.37971 8.19649C6.48532 8.04846 6.4931 7.99272 6.50787 7.28112L6.52352 6.52334L7.2813 6.50768C7.99291 6.49292 8.04864 6.48514 8.19667 6.37953C8.45575 6.19479 8.48434 6.0635 8.48434 5.05916C8.48434 4.05463 8.4528 3.9186 8.18087 3.75055C8.03392 3.65976 7.95142 3.65605 6.06476 3.65624C4.20031 3.65638 4.094 3.66102 3.9515 3.74793ZM15.8203 3.74924C15.5433 3.93149 15.5156 4.0499 15.5156 5.05138C15.5156 6.06411 15.5438 6.19451 15.8032 6.37953C15.9513 6.48514 16.007 6.49292 16.7186 6.50768L17.4764 6.52334L17.492 7.28112C17.5068 7.99272 17.5146 8.04846 17.6202 8.19649C17.8049 8.45557 17.9362 8.48416 18.9406 8.48416C19.9451 8.48416 20.0811 8.45261 20.2492 8.18069C20.34 8.03379 20.3437 7.95105 20.3437 6.07395C20.3437 3.9171 20.3452 3.92882 20.0484 3.74793C19.9131 3.66538 19.8082 3.65638 18.9798 3.65624C17.9481 3.65605 17.9062 3.66918 17.9062 3.99233C17.9062 4.30035 17.9954 4.33354 18.8719 4.35149L19.6405 4.36724V6.07414V7.78104H18.914H18.1874L18.1871 7.01932C18.1869 6.35211 18.1758 6.24097 18.0985 6.12359C17.9108 5.83892 17.8174 5.81295 16.9804 5.81262L16.2187 5.8123V5.09117V4.3701L16.5297 4.35032C16.798 4.33321 16.8559 4.31282 16.9516 4.20158C17.0879 4.04305 17.0913 3.93974 16.9653 3.77957C16.8723 3.6613 16.8489 3.65605 16.4145 3.65638C16.0419 3.65662 15.9358 3.67321 15.8203 3.74924ZM7.78122 5.08574V5.8123L7.0195 5.81262C6.18255 5.81295 6.08913 5.83892 5.90145 6.12359C5.82406 6.24097 5.81304 6.35211 5.81281 7.01932L5.81248 7.78104H5.08592H4.35936V6.07011V4.35918H6.07029H7.78122V5.08574ZM8.50778 7.49407C8.27678 7.63816 7.46242 8.50099 7.42797 8.63819C7.36727 8.88011 7.45263 9.01469 8.04939 9.61783L8.63809 10.2128L8.51434 10.3599C8.29342 10.6224 8.37498 11.044 8.67812 11.2063C8.72917 11.2336 9.28862 11.3294 9.92134 11.4191C11.0633 11.5811 11.073 11.5816 11.2429 11.4951C11.3445 11.4434 11.4482 11.3392 11.4981 11.2389C11.5807 11.0729 11.5793 11.0489 11.4192 9.92026C11.3295 9.28802 11.2337 8.72899 11.2065 8.67794C11.0439 8.37428 10.6227 8.29324 10.3592 8.51491L10.2113 8.63936L9.64079 8.07466C9.32701 7.76407 9.0242 7.48657 8.9679 7.45798C8.81907 7.38246 8.66772 7.39437 8.50778 7.49407ZM15.0234 7.45994C14.9718 7.48807 14.6729 7.76491 14.3591 8.07522L13.7886 8.63936L13.6407 8.51491C13.3772 8.29324 12.956 8.37428 12.7935 8.67794C12.7662 8.72899 12.6705 9.28802 12.5807 9.92026C12.4206 11.0496 12.4192 11.0728 12.5018 11.2418C12.5541 11.3488 12.6508 11.4456 12.7576 11.4978C12.9257 11.58 12.952 11.5787 13.9764 11.4384C14.5522 11.3596 15.1009 11.274 15.1957 11.2482C15.5888 11.141 15.7436 10.6666 15.4856 10.3599L15.3618 10.2128L15.9505 9.61783C16.5475 9.0145 16.6326 8.88016 16.5718 8.63786C16.5362 8.49588 15.6589 7.57666 15.4593 7.47227C15.3094 7.39385 15.1528 7.38944 15.0234 7.45994ZM9.42353 8.83572C10.1215 9.52736 10.2129 9.57381 10.4727 9.36944C10.542 9.31492 10.6047 9.27803 10.6121 9.28741C10.6392 9.32186 10.8324 10.7923 10.8125 10.8123C10.7925 10.8323 9.32204 10.639 9.28759 10.6119C9.27821 10.6045 9.3151 10.5418 9.36962 10.4725C9.57446 10.2121 9.52834 10.1222 8.82601 9.41336L8.18326 8.76471L8.46123 8.48383C8.61414 8.32933 8.74951 8.20291 8.76203 8.20291C8.77459 8.20291 9.07225 8.48768 9.42353 8.83572ZM15.5387 8.48383L15.8166 8.76471L15.1739 9.41336C14.4716 10.1222 14.4254 10.2121 14.6303 10.4725C14.6848 10.5418 14.7217 10.6045 14.7123 10.6119C14.6779 10.639 13.2074 10.8323 13.1874 10.8123C13.1675 10.7923 13.3607 9.32186 13.3878 9.28741C13.3952 9.27803 13.4579 9.31492 13.5272 9.36944C13.7875 9.57414 13.8791 9.5275 14.5746 8.83619C14.9246 8.48838 15.2221 8.20361 15.2358 8.20338C15.2495 8.2031 15.3858 8.32933 15.5387 8.48383ZM1.33593 9.94342C1.11623 10.0662 1.125 9.83186 1.125 15.5946V21.0466L0.785153 21.0473C0.39178 21.0481 0.255093 21.1038 0.106875 21.3237C0.00360936 21.477 0 21.5174 0.000187499 22.5184C0.000421873 24.0515 -0.0418123 24.0114 1.54842 23.9904L2.62335 23.9763L2.77654 23.8231C2.92161 23.6779 2.93057 23.649 2.94622 23.2723L2.96272 22.8747H8.39158C11.3774 22.8747 13.8546 22.8616 13.8963 22.8456C14.0107 22.8017 14.1158 22.5653 14.0815 22.4287C14.0133 22.1569 14.337 22.1716 8.40841 22.1716H2.96272L2.94622 21.7741C2.93052 21.3973 2.92166 21.3685 2.77644 21.2233C2.63122 21.0781 2.6024 21.0692 2.22566 21.0535L1.82812 21.037V15.5861C1.82812 10.4629 1.8232 10.1293 1.74609 10.0382C1.64371 9.91722 1.45907 9.87456 1.33593 9.94342ZM9.86715 12.5816C9.29996 12.6657 8.78936 12.7496 8.7325 12.768C8.40217 12.8754 8.28044 13.3617 8.51434 13.6396L8.63809 13.7867L8.04939 14.3817C7.45202 14.9855 7.3676 15.1188 7.42788 15.363C7.47011 15.5343 8.4654 16.5296 8.63669 16.5718C8.88058 16.632 9.01436 16.5476 9.61154 15.9568L10.2001 15.3744L10.3591 15.4918C10.6412 15.6999 11.0466 15.6203 11.2042 15.3259C11.2302 15.2772 11.3258 14.7212 11.4166 14.0903C11.5679 13.04 11.576 12.9293 11.5135 12.7798C11.433 12.5871 11.2736 12.4711 11.0557 12.4465C10.9692 12.4367 10.4343 12.4975 9.86715 12.5816ZM12.75 12.5038C12.6519 12.5528 12.552 12.6549 12.5018 12.7577C12.4192 12.9267 12.4206 12.95 12.5807 14.0793C12.6705 14.7115 12.7662 15.2706 12.7935 15.3216C12.9557 15.6247 13.3773 15.7063 13.6398 15.4854L13.7869 15.3616L14.3819 15.9503C14.9856 16.5477 15.119 16.6321 15.3632 16.5718C15.5345 16.5296 16.5298 15.5343 16.572 15.363C16.6323 15.1188 16.5479 14.9855 15.9505 14.3817L15.3618 13.7867L15.4856 13.6396C15.7076 13.3758 15.6249 12.9555 15.3186 12.7916C15.2486 12.7541 13.1146 12.4228 12.9374 12.4219C12.9246 12.4218 12.8402 12.4587 12.75 12.5038ZM10.813 13.3474C10.7981 13.4441 10.7499 13.7869 10.7059 14.1091C10.6618 14.4314 10.6197 14.7028 10.6122 14.7121C10.6048 14.7215 10.542 14.6846 10.4727 14.6301C10.2122 14.4252 10.1224 14.4713 9.41303 15.1742L8.7639 15.8174L8.47309 15.5266L8.18228 15.2358L8.8255 14.5867C9.52839 13.8773 9.57451 13.7875 9.36962 13.527C9.3151 13.4578 9.27821 13.3948 9.28759 13.3871C9.30887 13.3696 10.5765 13.1851 10.7286 13.1773C10.8316 13.1721 10.838 13.185 10.813 13.3474ZM14.1093 13.2938C14.4316 13.3379 14.7029 13.38 14.7123 13.3875C14.7217 13.395 14.6848 13.4578 14.6303 13.527C14.4254 13.7875 14.4715 13.8773 15.1744 14.5867L15.8176 15.2358L15.5268 15.5266L15.236 15.8174L14.5869 15.1742C13.8775 14.4713 13.7877 14.4252 13.5272 14.6301C13.4579 14.6846 13.3951 14.7215 13.3877 14.7121C13.3802 14.7028 13.3381 14.4314 13.294 14.1091C13.25 13.7869 13.2013 13.4409 13.1857 13.3403L13.1576 13.1574L13.3405 13.1856C13.4411 13.2011 13.7871 13.2498 14.1093 13.2938ZM3.99636 15.5925C3.91273 15.6337 3.80202 15.7359 3.75027 15.8196C3.66003 15.9656 3.65624 16.0514 3.65642 17.935C3.65656 19.7994 3.6612 19.9057 3.74811 20.0482C3.929 20.345 3.91728 20.3435 6.07413 20.3435C7.95123 20.3435 8.03397 20.3398 8.18087 20.249C8.4528 20.0809 8.48434 19.9449 8.48434 18.9404C8.48434 17.936 8.45575 17.8047 8.19667 17.62C8.04864 17.5144 7.99291 17.5066 7.2813 17.4919L6.52352 17.4762L6.50787 16.7184C6.4931 16.0068 6.48532 15.9511 6.37971 15.8031C6.19446 15.5433 6.06448 15.5152 5.05226 15.5165C4.32017 15.5173 4.11955 15.5317 3.99636 15.5925ZM17.8779 15.5824C17.7979 15.6172 17.6818 15.7166 17.6201 15.8032C17.5146 15.9511 17.5068 16.007 17.492 16.7184L17.4764 17.4762L16.7186 17.4919C16.007 17.5066 15.9513 17.5144 15.8032 17.62C15.5442 17.8047 15.5156 17.936 15.5156 18.9404C15.5156 19.9449 15.5471 20.0809 15.819 20.249C15.9659 20.3398 16.0487 20.3435 17.9258 20.3435C20.0826 20.3435 20.0709 20.345 20.2518 20.0482C20.3387 19.9057 20.3433 19.7994 20.3435 17.935C20.3437 16.0483 20.34 15.9658 20.2492 15.8188C20.0804 15.5458 19.9464 15.5151 18.9303 15.5172C18.2751 15.5185 17.983 15.5366 17.8779 15.5824ZM5.81281 16.9802C5.81313 17.8172 5.8391 17.9106 6.12377 18.0983C6.24115 18.1757 6.35229 18.1867 7.0195 18.1869L7.78122 18.1872V18.9138V19.6404H6.07029H4.35936V17.9294V16.2185H5.08592H5.81248L5.81281 16.9802ZM19.6405 17.9294V19.6404H17.9296H16.2187V18.9138V18.1872H16.9577C17.795 18.1872 17.948 18.143 18.1018 17.8562C18.1744 17.7209 18.1874 17.5837 18.1874 16.9575V16.2185H18.914H19.6405V17.9294ZM2.24999 22.5232V23.2966H1.47656H0.703122V22.5232V21.7497H1.47656H2.24999V22.5232ZM23.2968 22.5232V23.2966H22.5233H21.7499V22.5232V21.7497H22.5233H23.2968V22.5232Z" fill="#05D975"/></svg>'
				];
			}

			$data['products'][] = array(
				'product_id'  => $result['product_id'],
				'thumb'       => $image,
				'name'        => $result['name'],
				'description' => utf8_substr(trim(strip_tags(html_entity_decode($result['description'], ENT_QUOTES, 'UTF-8'))), 0, $this->config->get('theme_' . $this->config->get('config_theme') . '_product_description_length')) . '..',
				'price'       => $price,
				'special'     => $special,
				'tax'         => $tax,
				'minimum'     => $result['minimum'] > 0 ? $result['minimum'] : 1,
				'rating'      => $result['rating'],
				'attributes'	=> $attributes,
				'href'        => $this->url->link('product/product', 'product_id=' . $result['product_id'] . $url)
			);
		}

		$url = '';

		if (isset($this->request->get['limit'])) {
			$url .= '&limit=' . $this->request->get['limit'];
		}

		$data['sorts'] = array();

		$data['sorts'][] = array(
			'text'  => $this->language->get('text_default'),
			'value' => 'p.sort_order-ASC',
			'href'  => $this->url->link('product/special', 'sort=p.sort_order&order=ASC' . $url)
		);

		$data['sorts'][] = array(
			'text'  => $this->language->get('text_name_asc'),
			'value' => 'pd.name-ASC',
			'href'  => $this->url->link('product/special', 'sort=pd.name&order=ASC' . $url)
		);

		$data['sorts'][] = array(
			'text'  => $this->language->get('text_name_desc'),
			'value' => 'pd.name-DESC',
			'href'  => $this->url->link('product/special', 'sort=pd.name&order=DESC' . $url)
		);

		$data['sorts'][] = array(
			'text'  => $this->language->get('text_price_asc'),
			'value' => 'ps.price-ASC',
			'href'  => $this->url->link('product/special', 'sort=ps.price&order=ASC' . $url)
		);

		$data['sorts'][] = array(
			'text'  => $this->language->get('text_price_desc'),
			'value' => 'ps.price-DESC',
			'href'  => $this->url->link('product/special', 'sort=ps.price&order=DESC' . $url)
		);

		if ($this->config->get('config_review_status')) {
			$data['sorts'][] = array(
				'text'  => $this->language->get('text_rating_desc'),
				'value' => 'rating-DESC',
				'href'  => $this->url->link('product/special', 'sort=rating&order=DESC' . $url)
			);

			$data['sorts'][] = array(
				'text'  => $this->language->get('text_rating_asc'),
				'value' => 'rating-ASC',
				'href'  => $this->url->link('product/special', 'sort=rating&order=ASC' . $url)
			);
		}

		$data['sorts'][] = array(
				'text'  => $this->language->get('text_model_asc'),
				'value' => 'p.model-ASC',
				'href'  => $this->url->link('product/special', 'sort=p.model&order=ASC' . $url)
		);

		$data['sorts'][] = array(
			'text'  => $this->language->get('text_model_desc'),
			'value' => 'p.model-DESC',
			'href'  => $this->url->link('product/special', 'sort=p.model&order=DESC' . $url)
		);

		$url = '';

		if (isset($this->request->get['sort'])) {
			$url .= '&sort=' . $this->request->get['sort'];
		}

		if (isset($this->request->get['order'])) {
			$url .= '&order=' . $this->request->get['order'];
		}

		$data['limits'] = array();

		$limits = array_unique(array($this->config->get('theme_' . $this->config->get('config_theme') . '_product_limit'), 25, 50, 75, 100));

		sort($limits);

		foreach($limits as $value) {
			$data['limits'][] = array(
				'text'  => $value,
				'value' => $value,
				'href'  => $this->url->link('product/special', $url . '&limit=' . $value)
			);
		}

		$url = '';

		if (isset($this->request->get['sort'])) {
			$url .= '&sort=' . $this->request->get['sort'];
		}

		if (isset($this->request->get['order'])) {
			$url .= '&order=' . $this->request->get['order'];
		}

		if (isset($this->request->get['limit'])) {
			$url .= '&limit=' . $this->request->get['limit'];
		}

		$pagination = new TailwindPagination();
		$pagination->total = $product_total;
		$pagination->page = $page;
		$pagination->limit = $limit;
		$pagination->url = $this->url->link('product/special', $url . '&page={page}');

		$data['pagination'] = $pagination->render();

		$data['results'] = sprintf($this->language->get('text_pagination'), ($product_total) ? (($page - 1) * $limit) + 1 : 0, ((($page - 1) * $limit) > ($product_total - $limit)) ? $product_total : ((($page - 1) * $limit) + $limit), $product_total, ceil($product_total / $limit));

        if (!$this->config->get('config_canonical_method')) {
            // http://googlewebmastercentral.blogspot.com/2011/09/pagination-with-relnext-and-relprev.html
            if ($page == 1) {
                $this->document->addLink($this->url->link('product/special', ''), 'canonical');
            } elseif ($page == 2) {
                $this->document->addLink($this->url->link('product/special', ''), 'prev');
            } else {
                $this->document->addLink($this->url->link('product/special', 'page=' . ($page - 1)), 'prev');
            }

            if ($limit && ceil($product_total / $limit) > $page) {
                $this->document->addLink($this->url->link('product/special', 'page=' . ($page + 1)), 'next');
            }
        } else {
            if (isset($this->request->server['HTTPS']) && (($this->request->server['HTTPS'] == 'on') || ($this->request->server['HTTPS'] == '1'))) {
                $server = $this->config->get('config_ssl');
            } else {
                $server = $this->config->get('config_url');
            };

            $request_url = rtrim($server, '/') . $this->request->server['REQUEST_URI'];
            $canonical_url = $this->url->link('product/special', '');


            if (($request_url != $canonical_url) || $this->config->get('config_canonical_self')) {
                $this->document->addLink($canonical_url, 'canonical');
            }

            if ($this->config->get('config_add_prevnext')) {

                if ($page == 2) {
                    $this->document->addLink($this->url->link('product/special', ''), 'prev');
                } elseif ($page > 2)  {
                    $this->document->addLink($this->url->link('product/special', 'page=' . ($page - 1)), 'prev');
                }

                if ($limit && ceil($product_total / $limit) > $page) {
                    $this->document->addLink($this->url->link('product/special', 'page=' . ($page + 1)), 'next');
                }
            }
        }
		$data['search_action'] = $this->url->link('product/search');
		$data['sort'] = $sort;
		$data['order'] = $order;
		$data['limit'] = $limit;

		$data['continue'] = $this->url->link('common/home');
		$data['categories_list'] = $this->load->controller('common/header/getCategories', ['depth' => 3]);

		$data['column_left'] = $this->load->controller('common/column_left');
		$data['column_right'] = $this->load->controller('common/column_right');
		$data['content_top'] = $this->load->controller('common/content_top');
		$data['content_bottom'] = $this->load->controller('common/content_bottom');
		$data['footer'] = $this->load->controller('common/footer');
		$data['header'] = $this->load->controller('common/header');

		$this->response->setOutput($this->load->view('product/special', $data));
	}
}
